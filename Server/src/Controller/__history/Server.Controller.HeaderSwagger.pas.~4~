unit Server.Controller.HeaderSwagger;

interface
uses
  System.SysUtils,
  System.Classes,
  Horse.GBSwagger,
  Horse.JWT,
  Server.Classes.Constantes;

type
  TMSGError_ = class
  private
    Ferror: string;
  Public
    property error: string read Ferror write Ferror;
  end;

  THeaderSwagger = class
  public
    class procedure SetarCabecalho;
  end;

implementation

{ THeaderSwagger }

class procedure THeaderSwagger.SetarCabecalho;
begin
  Swagger
    .BasePath(C_SWAGGER_PATH_VERSAO)
    .Register
      .SchemaOnError(TMSGError_)
    .&End
    .Info
      .Title(C_SWAGGER_TITLE)
      .Version(C_SWAGGER_VERSAO_INFO)
      .Description(C_SWAGGER_DESCRICAO)
      .Contact
        .Name(C_SWAGGER_CONTACT_NAME)
        .Email('avelinoalessandro@gmail.com')
      .&end
    .&End
    .AddProtocol(TGBSwaggerProtocol.gbHttp)
    .AddBearerSecurity
      .AddCallback(HorseJWT(C_CHAVE))
    .&end;
end;

end.
